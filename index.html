<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extraction% Pilot Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #2c3e50;
            line-height: 1.6;
        }
        
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .stat-card.extraction { border-top: 4px solid #ff6b6b; }
        .stat-card.total { border-top: 4px solid #4ecdc4; }
        .stat-card.count { border-top: 4px solid #51cf66; }
        .stat-card.rejection { border-top: 4px solid #ffa726; }
        
        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1.1rem;
            color: #666;
            font-weight: 500;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .card ul {
            list-style: none;
            padding: 0;
        }
        
        .card li {
            margin-bottom: 8px;
            color: #666;
            position: relative;
            padding-left: 15px;
        }
        
        .card li:before {
            content: "•";
            color: #4ecdc4;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .section {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .leaderboard-item:hover {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            color: white;
            transform: translateX(5px);
        }
        
        .medal {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }
        
        .gold { background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%); color: #333; }
        .silver { background: linear-gradient(135deg, #c0c0c0 0%, #ddd 100%); color: #333; }
        .bronze { background: linear-gradient(135deg, #cd7f32 0%, #d4a574 100%); }
        
        .firm-name {
            flex-grow: 1;
            font-weight: 600;
        }
        
        .extraction-rate {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .error-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .error-card {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .error-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .good { background: linear-gradient(135deg, #51cf66 0%, #40c057 100%); color: white; }
        .warning { background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%); color: white; }
        .bad { background: linear-gradient(135deg, #ff6b6b 0%, #f03e3e 100%); color: white; }
        
        .error-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .error-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        
        .insights {
            margin-top: 15px;
        }
        
        .insights ul {
            list-style: none;
            padding: 0;
        }
        
        .insights li {
            margin-bottom: 8px;
            color: #666;
            padding-left: 15px;
            position: relative;
        }
        
        .insights li:before {
            content: "→";
            color: #4ecdc4;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: #666;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        
        .tab.active {
            color: #4ecdc4;
            border-bottom-color: #4ecdc4;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .stage-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .stage-table th,
        .stage-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        .stage-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .status-pass { color: #51cf66; font-weight: bold; }
        .status-fail { color: #ff6b6b; font-weight: bold; }
        .status-pending { color: #ffa726; font-weight: bold; }
        
        .call-outs {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .call-outs h2 {
            color: white;
            margin-bottom: 20px;
        }
        
        .call-outs ul {
            list-style: none;
            padding: 0;
        }
        
        .call-outs li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
            font-size: 1.1rem;
        }
        
        .call-outs li:before {
            content: "!";
            position: absolute;
            left: 0;
            background: white;
            color: #667eea;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                padding: 10px;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .error-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .stat-number {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>Extraction% Pilot Dashboard</h1>
        
        </div>
        
        <div class="stats-grid">
            <div class="stat-card extraction" onclick="animateCard(this)">
                <div class="stat-number">10.05%</div>
                <div class="stat-label">Extraction</div>
            </div>
            <div class="stat-card total" onclick="animateCard(this)">
                <div class="stat-number">3,663</div>
                <div class="stat-label">Total</div>
            </div>
            <div class="stat-card count" onclick="animateCard(this)">
                <div class="stat-number">368</div>
                <div class="stat-label">Extraction Count</div>
            </div>
            <div class="stat-card rejection" onclick="animateCard(this)">
                <div class="stat-number">6.0%</div>
                <div class="stat-label">Rejection Rate</div>
            </div>
        </div>
        
        <div class="content-grid">
            <div class="card">
                <h3>Executive Summary</h3>
                <ul>
                    <li>Total extraction rate is 10.05% across 11 law firms</li>
                    <li>Without Brian Larsen, rate drops to 8.05% showing concentration risk</li>
                    <li>Only 4 of 11 customers exceed 10% extraction threshold</li>
                    <li>Median extraction rate of 7.27% is well below 15% target</li>
                    <li>Quality concerns with 6.0% rejection rate above 5% threshold</li>
                </ul>
            </div>
            <div class="card">
                <h3>Key Metrics</h3>
                <ul>
                    <li>Median extraction rate: 7.27%</li>
                    <li>Customers meeting 10%+ target: 36.4% (4 of 11)</li>
                    <li>Overall extraction rejection rate: 6.0%</li>
                    <li>Overall FileServe rejection rate: 6.3%</li>
                    <li>Top performer: Law Office of Brian Larsen at 57.82%</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2>Customer Leaderboard</h2>
            <div class="leaderboard-item" onclick="selectFirm(this)">
                <div class="medal gold">1</div>
                <div class="firm-name">Law Office of Brian Larsen</div>
                <div class="extraction-rate">57.82%</div>
            </div>
            <div class="leaderboard-item" onclick="selectFirm(this)">
                <div class="medal silver">2</div>
                <div class="firm-name">Kasowitz LLP</div>
                <div class="extraction-rate">33.12%</div>
            </div>
            <div class="leaderboard-item" onclick="selectFirm(this)">
                <div class="medal bronze">3</div>
                <div class="firm-name">Consumer Legal Services, P.C.</div>
                <div class="extraction-rate">21.05%</div>
            </div>
            <div class="leaderboard-item" onclick="selectFirm(this)">
                <div class="medal" style="background: #6c757d;">4</div>
                <div class="firm-name">Dolan Law Firm PC</div>
                <div class="extraction-rate">17.86%</div>
            </div>
            <div class="leaderboard-item" onclick="selectFirm(this)">
                <div class="medal" style="background: #6c757d;">5</div>
                <div class="firm-name">McCune Law Group</div>
                <div class="extraction-rate">9.18%</div>
            </div>
        </div>
        
        <div class="section">
            <h2>Error Analysis Dashboard</h2>
            <div class="error-grid">
                <div class="error-card good">
                    <div class="error-number">5</div>
                    <div class="error-label">Low Risk Firms<br>(0-5% rejection)</div>
                </div>
                <div class="error-card warning">
                    <div class="error-number">4</div>
                    <div class="error-label">Medium Risk Firms<br>(5-10% rejection)</div>
                </div>
                <div class="error-card bad">
                    <div class="error-number">2</div>
                    <div class="error-label">High Risk Firms<br>(10%+ rejection)</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Daily Trends</h2>
            <div class="chart-container">
                <canvas id="trendsChart"></canvas>
            </div>
            <div class="insights">
                <h4>Key Insights:</h4>
                <ul>
                    <li>Three firms drive majority of extraction volume</li>
                    <li>Significant performance gap between top and bottom performers</li>
                    <li>Rejection rates vary widely by customer suggesting training needs</li>
                    <li>Strong concentration risk with top performer representing 23% of extractions</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2>Retention Analysis</h2>
            <div class="tabs">
                <button class="tab active" onclick="showTab('overview')">Overview</button>
                <button class="tab" onclick="showTab('by-firm')">By Firm</button>
            </div>
            <div class="tab-content active" id="overview">
                <ul>
                
                    <li>Need to track user engagement beyond initial extraction attempts</li>
                    <li>Focus on firms with high extraction rates for retention patterns</li>
                    <li>Monitor drop-off rates after first successful extraction</li>
                </ul>
            </div>
            <div class="tab-content" id="by-firm">
                <ul>
                    <li>Brian Larsen: High adoption suggests strong retention potential</li>
                    <li>Kasowitz LLP: Moderate volume with good extraction rate</li>
                    <li>Consumer Legal: Consistent performance across moderate volume</li>
                    <li>Low performers may need enhanced onboarding support</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <h2>Stage-Gate Assessment</h2>
            <table class="stage-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Current Value</th>
                        <th>Threshold</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Median Extraction%</td>
                        <td>7.27%</td>
                        <td>≥ 15%</td>
                        <td class="status-fail">Fail</td>
                    </tr>
                    <tr>
                        <td>Customers ≥ 10% Extraction%</td>
                        <td>36.4% (4/11)</td>
                        <td>≥ 50%</td>
                        <td class="status-fail">Fail</td>
                    </tr>
                    <tr>
                        <td>Extraction Rejection Rate</td>
                        <td>6.0%</td>
                        <td>≤ 5%</td>
                        <td class="status-fail">Fail</td>
                    </tr>
                    <tr>
                        <td>Day-7 Meaningful Retention</td>
                        <td>n/a</td>
                        <td>≥ 30%</td>
                        <td class="status-pending">Pending</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="call-outs">
            <h2>Call Outs</h2>
            <ul>
                <li>Why is Brian Larsen achieving 57.82% extraction rate while others struggle?</li>
                <li>Expand pilot to firms with similar profiles to top performers</li>
                <li>Why does Lemon Law have the highest rejection rate at 12.5%?</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Chart configuration
        const ctx = document.getElementById('trendsChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Brian Larsen', 'Kasowitz', 'Consumer Legal', 'Dolan', 'McCune', 'Gibson Robb', 'Molino', 'Matern', 'WLF W&H', 'WLF WT/CA', 'Lemon Law'],
                datasets: [{
                    label: 'Extraction Rate (%)',
                    data: [57.82, 33.12, 21.05, 17.86, 9.18, 7.27, 3.46, 3.32, 3.23, 2.68, 2.35],
                    backgroundColor: [
                        '#ff6b6b', '#4ecdc4', '#51cf66', '#ffa726', '#845ec2',
                        '#6c757d', '#495057', '#868e96', '#adb5bd', '#ced4da', '#dee2e6'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Extraction Rate by Customer (368 total extractions)'
                    },
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 60,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                }
            }
        });
        
        // Interactive functions
        function animateCard(card) {
            card.style.transform = 'scale(1.1)';
            setTimeout(() => {
                card.style.transform = 'scale(1.05)';
            }, 200);
        }
        
        function selectFirm(item) {
            document.querySelectorAll('.leaderboard-item').forEach(el => {
                el.style.background = '#f8f9fa';
                el.style.color = '#2c3e50';
            });
            item.style.background = 'linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%)';
            item.style.color = 'white';
        }
        
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        // Add hover effects to risk columns
        document.querySelectorAll('.risk-column').forEach(column => {
            column.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 8px 15px rgba(0, 0, 0, 0.1)';
            });
            
            column.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });
    </script>
</body>
</html>
